# CI Agile & TeamWorks Website

A unified static website combining the CI Agile main site and TeamWorks program site, built with React and deployed to Hostinger shared hosting.

## Project Structure

```
src/
├── site/                           # ✅ CANONICAL - Single source of truth
│   ├── pages/                      # Page entry points (used by build script)
│   │   ├── index/                  # Main site homepage
│   │   ├── about/                  # About Us page
│   │   ├── contact/                # Contact Us page
│   │   └── teamworks/              # TeamWorks pages
│   └── components/
│       ├── main/                   # Main site components
│       │   └── imported/           # Figma imports (re-exports from @/imports)
│       └── teamworks/              # TeamWorks components
│           ├── v2/                 # V2 design system (real implementations)
│           ├── CoursePage.tsx      # Course pages (re-exports from @/app)
│           └── ImageWithFallback.tsx
│
├── app/                            # Dev-only / Course implementations
│   └── components/                 # Course page components still here
│
├── imports/                        # Large Figma-imported components
│   ├── CiAgileMainEthanWorkingMergeBranch.tsx + svg-0jlmd5mwk8.ts
│   └── CiAgileMainFrozenPreMergeBranch-8009-391.tsx + svg-qtx8o74vey.ts
│
└── styles/                         # Global styles

scripts/
└── export-static.mjs               # Static HTML generator

public/                             # Generated output (not in git)
├── index.html
├── aboutus.html
├── contactus.html
├── teamworks/
│   ├── index.html
│   ├── creating-super-teams.html
│   ├── design-thinking.html
│   ├── critical-thinking-kanban.html
│   └── bookConsultation.html
├── css/
├── js/
└── assets/
```

## Build & Deploy

### Development
```bash
npm install
npm run dev        # Start Vite dev server
```

### Production Build
```bash
npm run build      # Generates static HTML/CSS/JS in /public
```

The build process:
1. `scripts/export-static.mjs` renders React pages to static HTML
2. Outputs to `/public` directory with proper structure
3. Injects Tailwind CSS CDN and required scripts
4. Generates relative links for static hosting

### Deployment to Hostinger

The `hostinger` branch must contain ONLY the contents of `/public`:

```bash
# 1. Build the site
npm run build

# 2. Copy /public contents to hostinger branch root
cp -r public/* ../ciagile-hostinger/

# 3. Commit and push to hostinger branch
cd ../ciagile-hostinger
git add .
git commit -m "Deploy updated site"
git push origin hostinger
```

The Hostinger Git Tool deploys the branch root directly to `public_html`.

## Important Rules

1. **Static Export Only**: All HTML is generated by `scripts/export-static.mjs` during `npm run build`
2. **No Manual HTML**: Never create .html files in the repo
3. **Relative Links**: All internal links must be relative (e.g., `href="aboutus.html"`, not `href="/aboutus"`)
4. **No React Router**: This is a multi-page static site (MPA), not an SPA
5. **Two Subsites**: Main site at root, TeamWorks at `/teamworks/`
6. **No Breaking Changes**: UI, layout, and functionality must remain identical

## Technology

- **React** - For component development (compiled to static HTML at build time)
- **Vite** - Build tool and dev server
- **Tailwind CSS** - Styling via CDN in generated HTML
- **Vanilla JS** - Client-side interactivity in generated static site
- **Node.js** - Static site generation script

## Code Organization

### Site Pages (Canonical)
All page implementations are in `/src/site/pages/`:
- Main site pages in `/src/site/pages/index/`, `/about/`, `/contact/`
- TeamWorks pages in `/src/site/pages/teamworks/`
- These are used directly by `scripts/export-static.mjs`

### Components

**TeamWorks Components** (`/src/site/components/teamworks/`):
- V2 design system components in `v2/` (real implementations)
- Course pages re-exported from `/src/app/components/`
- Shared components like `ImageWithFallback.tsx`

**Main Site Components** (`/src/site/components/main/`):
- Navigation, Footer, and reusable components
- Imported Figma components accessed via `imported/` re-exports

### Import Aliases
```typescript
@/site          → src/site
@/app           → src/app
@/imports       → src/imports
```

**Legacy aliases removed**: `@/teamworks` and `@/main-site` no longer used

## Recent Changes

**✅ Major Refactor Completed** (See `/REFACTOR_COMPLETE.md` for details):
- Established `/src/site/` as single source of truth
- Deleted legacy duplicate directories (`/src/main-site`, `/src/teamworks`, `/src/shared`)
- Moved all v2 components to canonical location in `/src/site/components/teamworks/v2/`
- Created clean re-export layer for large Figma imports
- Updated all imports to use `/src/site/**` paths
- Build output structure unchanged - fully backward compatible
- Zero broken references or circular dependencies

## Guidelines

See `/Guidelines.md` for detailed architectural and deployment rules. Key points:
- This is a static multi-page site (MPA), NOT an SPA
- Build output must be in `/public/` directory
- All navigation must use relative HTML links
- React is compiled away at build time
- No server-side rendering or client-side routing

## Support

For questions about:
- **Architecture**: See `/Guidelines.md`
- **Recent Refactor**: See `/REFACTOR_COMPLETE.md`
- **Deployment**: Follow the steps above